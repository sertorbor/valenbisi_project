
/* --- FUENTES Y BASE --- */
@import url('https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600;700&family=Poppins:wght@400;500;600;700&display=swap');

body {
    font-family: 'Nunito Sans', sans-serif;
    color: #333; 
    background-color: #F4F7FC; /* Fondo principal muy claro, casi blanco */
    line-height: 1.6;
}

.stApp {
    background-color: #F4F7FC;
}

/* --- T√çTULO PRINCIPAL Y DESCRIPCI√ìN --- */
.main-title-container h1 {
    text-align: center;
    color: #2C3E50; /* Azul oscuro principal */
    font-family: 'Poppins', sans-serif;
    font-weight: 700;
    font-size: 2.8em; /* M√°s grande */
    margin-bottom: 0.3em;
    padding-bottom: 0.3em;
    border-bottom: 4px solid #3498DB; /* Azul m√°s brillante para el borde */
    letter-spacing: -0.5px;
}
.app-description {
    text-align: center;
    font-size: 1.15em;
    color: #555;
    margin-bottom: 1.5em;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
}
.feature-list {
    list-style-type: none;
    padding-left: 0;
    text-align: center;
}
.feature-list li {
    margin-bottom: 0.3em;
    font-size: 1.05em;
    color: #444;
}
.feature-list li::before {
    content: "‚úÖ ";
    color: #2ECC71; /* Verde para los checks */
}


/* --- BARRA LATERAL --- */
[data-testid="stSidebar"] {
    background-color: #FFFFFF; /* Blanco para la sidebar */
    border-right: 1px solid #DAE1E9;
    padding: 2rem 1.5rem;
    box-shadow: 2px 0px 10px rgba(0,0,0,0.05);
}

[data-testid="stSidebar"] .stImage img {
    display: block;
    margin: 0 auto 1.5rem auto;
    border-radius: 6px;
    padding: 3px;
    /* background-color: #f0f0f0; */
}

[data-testid="stSidebar"] h1, 
[data-testid="stSidebar"] h2, 
[data-testid="stSidebar"] h3 {
    color: #3498DB; /* Azul para t√≠tulos de sidebar */
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
}
[data-testid="stSidebar"] .stMarkdown p {
    color: #4A5568; /* Gris oscuro para texto */
    font-size: 0.92em;
}
[data-testid="stSidebar"] .sidebar-footer p {
    font-size: 0.85em;
    text-align: center;
    color: #777;
    margin-top: 2.5em;
}
[data-testid="stSidebar"] .stForm { /* Contenedor del formulario */
    border: 1px solid #E2E8F0;
    padding: 15px;
    border-radius: 8px;
    background-color: #F9FAFB;
}


/* --- T√çTULOS Y TEXTO EN EL √ÅREA PRINCIPAL --- */
h2, h3, h4 { 
    color: #2C3E50;
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
}
.stMarkdown h2, .stMarkdown h3, .stMarkdown h4 {
    color: #2C3E50;
    border-bottom: 2px solid #BDC3C7; /* Gris claro para borde */
    padding-bottom: 0.3em;
    margin-bottom: 0.8em;
}
.stMarkdown p {
    color: #4A5568;
    font-size: 1em;
}
.stMarkdown strong, .stMarkdown b {
    color: #2980B9; /* Azul m√°s oscuro para negritas */
}
.stMarkdown code { 
    background-color: #ECF0F1; /* Gris muy claro */
    color: #E74C3C; /* Rojo para c√≥digo */
    padding: 0.2em 0.4em;
    border-radius: 4px;
    border: 1px solid #BDC3C7;
}

/* --- ENTRADAS DE TEXTO Y SELECTORES --- */
.stTextInput input, 
.stNumberInput input,
.stSelectbox div[data-baseweb="select"] > div {
    background-color: #FFFFFF !important;
    color: #2C3E50 !important;
    border: 1px solid #CBD5E0 !important;
    border-radius: 6px !important;
    padding: 10px !important;
    box-shadow: none;
}
.stTextInput input:focus,
.stNumberInput input:focus,
.stSelectbox div[data-baseweb="select"] > div:focus-within {
    border-color: #3498DB !important;
    box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.2) !important;
}

.stSelectbox [data-baseweb="menu"] ul {
    background-color: #FFFFFF;
    border: 1px solid #CBD5E0;
    border-radius: 6px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.stSelectbox [data-baseweb="menu"] li {
    background-color: #FFFFFF;
    color: #2C3E50;
    padding: 8px 12px;
}
.stSelectbox [data-baseweb="menu"] li:hover {
    background-color: #EBF5FB; /* Azul muy claro hover */
}
.stSelectbox [data-baseweb="menu"] li[aria-selected="true"] {
    background-color: #3498DB !important; /* Azul para seleccionado */
    color: white !important;
}

/* --- BOTONES --- */
.stButton > button {
    background-color: #3498DB; /* Azul principal */
    color: #FFFFFF; 
    border: none;
    padding: 0.65em 1.4em;
    border-radius: 6px;
    font-weight: 600;
    font-family: 'Poppins', sans-serif;
    transition: background-color 0.2s ease, transform 0.1s ease;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}
.stButton > button:hover {
    background-color: #2980B9; /* Azul m√°s oscuro */
    transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0,0,0,0.15);
}
.stButton > button:active {
    background-color: #2471A3;
    transform: translateY(0px);
}
.stButton > button:focus {
    outline: none;
    box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.35);
}

/* --- SLIDER --- */
div[data-testid="stSlider"] {
    padding: 10px 5px;
}
div[data-testid="stSlider"] > div[data-baseweb="slider"] > div:nth-child(1) { 
    background-color: #3498DB; 
}
div[data-testid="stSlider"] > div[data-baseweb="slider"] > div:nth-child(2) { 
    border-color: #3498DB;
    background-color: #FFFFFF;
}
div[data-testid="stSlider"] label {
    color: #2C3E50; 
    font-weight: 600;
}


/* --- MENSAJES DE ERROR, WARNING, INFO, SUCCESS --- */
.stAlert {
    border-radius: 6px;
    border-left-width: 5px;
    padding: 1.1rem;
    box-shadow: 0 1px 4px rgba(0,0,0,0.1);
    font-size: 0.95em;
}
.stAlert[data-baseweb="alert"][data-status="error"] { border-color: #E74C3C; background-color: #FDEDEC; color: #C0392B; }
.stAlert[data-baseweb="alert"][data-status="warning"] { border-color: #F39C12; background-color: #FEF9E7; color: #B9770E;}
.stAlert[data-baseweb="alert"][data-status="info"] { border-color: #3498DB; background-color: #EBF5FB; color: #2980B9;}
.stAlert[data-baseweb="alert"][data-status="success"] { border-color: #2ECC71; background-color: #E8F8F5; color: #28B463;}

/* --- MAPA FOLIUM --- */
.folium-map {
    border-radius: 8px;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
    border: 1px solid #DAE1E9;
    margin-top: 1em;
    margin-bottom: 1.5em;
}

/* --- SEPARADORES --- */
hr.fancy-hr {
    border: 0;
    height: 1px;
    background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(44, 62, 80, 0.35), rgba(0, 0, 0, 0));
    margin: 2em 0;
}
hr {
    border-top: 1px solid #D1D9E1;
}


/* --- SPINNER --- */
.stSpinner > div > div { 
    color: #3498DB;
    font-weight: 600;
    font-size: 1em;
}

/* --- TARJETAS DE RESULTADOS --- */
.result-card {
    background-color: #FFFFFF;
    padding: 18px 22px;
    border-radius: 8px;
    margin-bottom: 18px;
    border: 1px solid #E2E8F0;
    box-shadow: 0 2px 5px rgba(0,0,0,0.08);
    height: 100%; 
    display: flex; 
    flex-direction: column;
}
.result-card h4 {
    color: #2C3E50; /* Azul oscuro para t√≠tulos de tarjeta */
    margin-top: 0;
    border-bottom: 1px solid #E2E8F0;
    padding-bottom: 0.6em;
    font-size: 1.2em;
    font-family: 'Poppins', sans-serif;
}
.result-card ul.info-list { /* Aplicar solo a listas con esta clase */
    list-style-type: none;
    padding-left: 0;
    margin-bottom: 0;
}
.result-card ul.info-list li {
    margin-bottom: 0.5em;
    color: #4A5568;
    font-size: 0.95em;
    padding-left: 20px; /* Espacio para el √≠cono */
    position: relative;
}
/* √çconos para las listas de resultados */
.result-card ul.info-list li:nth-child(1)::before { content: "üè† "; position: absolute; left: 0; }
.result-card ul.info-list li:nth-child(2)::before { content: "‚û°Ô∏è "; position: absolute; left: 0; }
.result-card ul.info-list li:nth-child(3)::before { content: "üìè "; position: absolute; left: 0; }
.result-card ul.info-list li:nth-child(4)::before { content: "‚è±Ô∏è "; position: absolute; left: 0; }
.result-card ul.info-list li:nth-child(5)::before { content: "üö≤ "; position: absolute; left: 0; }
.result-card ul.info-list li:nth-child(6)::before { content: "üîÑ "; position: absolute; left: 0; } /* Para √∫ltima actualizaci√≥n */


.result-card li strong {
    color: #2C3E50;
    font-weight: 600;
}

.summary-card {
    background-color: #EBF5FB; /* Azul muy p√°lido */
    padding: 20px;
    border-radius: 8px;
    margin-top: 1em;
    text-align: center;
    border: 1px solid #A9CCE3; /* Borde azulado */
}
.summary-card h3 {
    margin-top: 0;
    color: #2980B9; /* Azul */
    font-family: 'Poppins', sans-serif;
}
.summary-card p {
    font-size: 1.15em;
    color: #34495E; /* Gris azulado */
    margin-bottom: 0.5em;
}
.summary-card p strong {
    color: #2C3E50; /* Azul oscuro */
    font-weight: 700;
}

/* Iconos en marcadores del mapa */
.leaflet-marker-icon .fa {
    font-size: 14px; 
    color: white !important; 
    text-shadow: 1px 1px 1px rgba(0,0,0,0.5);
}

/* Placeholder text */
.stTextInput ::-webkit-input-placeholder { color: #A0AEC0 !important; opacity: 1; }
.stTextInput ::-moz-placeholder { color: #A0AEC0 !important; opacity: 1; }
.stTextInput :-ms-input-placeholder { color: #A0AEC0 !important; opacity: 1; }
.stTextInput ::-ms-input-placeholder { color: #A0AEC0 !important; opacity: 1; }
.stTextInput ::placeholder { color: #A0AEC0 !important; opacity: 1; }

/* Mejoras al expander */
.stExpander {
    border: 1px solid #DAE1E9;
    border-radius: 6px;
    margin-top: 1em;
    background-color: #FBFCFD;
}
.stExpander header {
    font-weight: 600;
    color: #2C3E50;
    background-color: #F4F7FC;
    border-bottom: 1px solid #DAE1E9;
    padding: 0.8em 1em;
}
.stExpander div[data-testid="stExpanderDetails"] {
    padding: 1em;
}

/* ... (todo el CSS anterior) ... */

/* --- TARJETA DE AHORRO DE CO2 --- */
.co2-card {
    background-color: #E8F8F5; /* Verde muy p√°lido */
    padding: 18px 22px;
    border-radius: 8px;
    margin-top: 20px;
    margin-bottom: 18px;
    border: 1px solid #A3E4D7; /* Borde verde claro */
    text-align: center;
}
.co2-card h4 {
    color: #1D8348; /* Verde oscuro */
    margin-top: 0;
    border-bottom: 1px solid #A3E4D7;
    padding-bottom: 0.5em;
    font-size: 1.15em;
    font-family: 'Poppins', sans-serif;
}
.co2-card p {
    color: #145A32; /* Verde m√°s oscuro para texto */
    font-size: 0.95em;
    margin-bottom: 0.4em;
}
.co2-card p.co2-main { /* Clase para el valor principal de CO2 */
    font-size: 1.5em;
    font-weight: 700;
    color: #117A65; /* Verde a√∫n m√°s oscuro */
    margin: 0.5em 0;
}
.co2-card p.co2-thanks {
    font-style: italic;
    color: #196F3D;
    margin-top: 0.8em;
}

